# MALWARE ANALYSIS

> BTL: Phát triển Malware

- Làm Malware

- Phát triển Tính Năng

  - Change `Registry` => Use `Services`.
  - Bypass `Windows Defender - 10`.
  - `Anti Virtual Machine`.
  - `Injection process permission nt-authority`.
  - Một số cách thức lây nhiễm:
    - Bypass UAC control (UAC bypass a Hoằng có 1 video).
    - Mở 1 file tài liệu và connect IP (có thể ngủ đông hoặc mở luôn) => Phishing.
    - Bài viết hướng dẫn drop code vào resource.
    - ...

- Báo cáo theo nguyên tắc hoạt động của malware:

  - Intrusion system
  - Control system
  - Create Backdoor
  - Thực hiện các hoạt động độc hại
  - Che giấu sự hoạt động (Persistence).

- References:
  - [How Does Malware Know It's Being Monitored?](https://www.youtube.com/watch?si=0lbLFGG9dlPLZ3PJ&v=5cch_-3NVLk&feature=youtu.be).
  - https://www.ired.team/offensive-security/code-injection-process-injection/backdooring-portable-executables-pe-with-shellcode
  - https://github.com/erfan4lx/Windows-Virus
  - Video:
    - WannaCry: https://www.youtube.com/watch?si=gEm193iR5BD4bV-M&v=Sv8yu12y5zM&feature=youtu.be
    - https://www.youtube.com/watch?v=eiT7mslA63c
  - ...

```
explorer.exe
svchost.exe
conhost.exe
Where, uses, ... ?

svchost.exe
=> SYSTEM
=> LocalService
=> NetworkService
=> CurrentUser
```

- Clear windows Event Logs Using Command Prompt Windows 10

```batch
for /F "tokens=*"%1('wevtutil.exe el') DO wevtutil.exe cl "%1"
```

```
###########################################################################
YOUR FILE ARE ENCRYPTED

Your photos, documents and other important files have been encrypted
with unique key, generated for this computer

NEXT
###########################################################################
```
